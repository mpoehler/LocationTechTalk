<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=1024" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <title>Geo-Related Google APIs by Marco Pöhler</title>
    
    <meta name="description" content="" />
    <meta name="author" content="Marco Pöhler" />

    <link href='http://fonts.googleapis.com/css?family=Signika+Negative' rel='stylesheet' type='text/css'>

    <link href="css/my.css" rel="stylesheet" />

    <link rel="shortcut icon" href="favicon.png" />
    <link rel="apple-touch-icon" href="apple-touch-icon.png" />

    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">
      google.load("visualization", "1", {packages:["geochart"]});
      google.setOnLoadCallback(drawCharts);

      function drawCharts() {

        var data = google.visualization.arrayToDataTable([
          ['Country', 'Popularity'],
          ['Germany', 200],
          ['United States', 300],
          ['Brazil', 400],
          ['Canada', 500],
          ['France', 600],
          ['RU', 700]
        ]);

        var chart = new google.visualization.GeoChart(document.getElementById('regions_div'));

        chart.draw(data, {});

		var data2 = google.visualization.arrayToDataTable([
			['City',   'Population', 'Area'],
			['Rome',      2761477,    1285.31],
			['Milan',     1324110,    181.76],
			['Naples',    959574,     117.27],
			['Turin',     907563,     130.17],
			['Palermo',   655875,     158.9],
			['Genoa',     607906,     243.60],
			['Bologna',   380181,     140.7],
			['Florence',  371282,     102.41],
			['Fiumicino', 67370,      213.44],
			['Anzio',     52192,      43.43],
			['Ciampino',  38262,      11]
	      ]);

		  var chart2 = new google.visualization.GeoChart(document.getElementById('chart_div'));
		  chart2.draw(data2, {
			region: 'IT',
			displayMode: 'markers',
			colorAxis: {colors: ['green', 'blue']}
		  });

      }
    </script>
</head>

<body class="impress-not-supported">
	
	<div class="fallback-message">
	    <p>Dein Browser<b> erfüllt nicht alle Voraussetzungen</b> für impress.js, deshalb siehst du eine vereinfachte Version diese Präsentation.</p>
	    <p>Nimm' mal einen aktuellen Browser, zum Beispiel <b>Chrome</b>, <b>Safari</b> oder <b>Firefox</b>.</p>
	</div>

	<div id="impress">
		<div id="start" class="step" data-x="500" data-y="500" data-scale="25">
            <div style="width: 1100px;">
                <img src="img/google-developers.png" style="float: left"> 
                <h1 style="font-size: 80px; color: #5080FF; font-family: sans-serif;font-weight: bold;">Geo-Related Google APIs</h1>
            </div>
            <div class="plusbox">
                <a href="http://plus.google.com/109683349215445798473"> 
                    <img src="https://lh4.googleusercontent.com/--OMCrsoRi4k/UWVz4Q7TG3I/AAAAAAAAJMg/--4IHpA0SXs/s251-no/1315_kpv_pic_marco+%25281%2529.jpg" width="150" height="150"/> 
                </a> 
                <b>Marco Pöhler</b> <br/><br/>
                <a href="https://plus.google.com/114226021900650933814/posts" target="_blank">+GDG Hamburg</a><br/> 
                <a href="http://www.kontaktlinsen-preisvergleich.de" target="_blank">Kontaktlinsen Preisvergleich</a><br/>
                <a href="https://plus.google.com/+MarcoPöhler/?rel=author" target="_blank">plus.google.com/+MarcoPöhler</a> 
            </div>
    	</div>

         <div id="agenda" class="step solidbackground" data-x="-9500" data-y="0">
            <h1>Agenda</h1>
            <ul>
            	<li>Google Maps</li> 
                <li>Google Geocoding API<a href="https://developers.google.com/maps/documentation/geocoding/" target"_cool">¹</a></li>
                <li>Google Charts - GeoChart<a href="https://developers.google.com/chart/interactive/docs/gallery/geochart" target="_cool">²</a></li>
                <li>Browser-based Location / IP-Resolution</li>
            </ul>
            I'll try to show everything live <img src="img/Hammer-computer_klein.png"><br/>
            Estimated Time: 20 minutes

        </div>

    	 <div id="googlemaps1" class="step solidbackground" data-x="-9000" data-y="-1000">
            <h1>Google Maps</h1>
            <iframe
  				width="600"
  				height="450"
  				frameborder="0" style="border:0"
  				src="https://www.google.com/maps/embed/v1/place?key=AIzaSyCAYEhJ4J-VBhCU1tMzAoOM8o6o4Fn_aVA&q=Dockland,Hamburg">
			 </iframe>
        </div>

		<div id="googlemaps2" class="step largestep solidbackground" data-x="-8000" data-y="-2000">
            <h1>Google Maps - embedding</h1>
            <img src="https://docs.google.com/drawings/d/1rt9q2WzZjrREu7Mo1Q2ikiIKEtyeGkq3jBTdxIGaXQs/pub?w=992&h=240"/>			
        </div>

        <div id="googlemaps3" class="step largestep" data-x="-7000" data-y="-3000">
            <h1>Google Maps - getting the key</h1>
            <img src="https://docs.google.com/drawings/d/1yxukFv3XJTamGWKWYQEZKp2FA4guMVduxAQ0pYeuEA4/pub?w=960&h=701"/>			
        </div>

        <div id="googlemaps4" class="step solidbackground" data-x="-6000" data-y="-4000">
            <h1>Google Maps 4 - modes</h1>
            <div style="float:left; margin-right: 20px;">
            Place<br/>
            <iframe
  				width="400"
  				height="300"
  				frameborder="0" style="border:0"
  				src="https://www.google.com/maps/embed/v1/place?key=AIzaSyCAYEhJ4J-VBhCU1tMzAoOM8o6o4Fn_aVA&q=Dockland,Hamburg">
			 </iframe>
		     </div>
			 <div>
             Directions<br/>
			 <iframe
  				width="400"
  				height="300"
  				frameborder="0" style="border:0"
  				src="https://www.google.com/maps/embed/v1/directions?key=AIzaSyCAYEhJ4J-VBhCU1tMzAoOM8o6o4Fn_aVA&&origin=Dockland,Hamburg&destination=Central+Station,Hamburg">
			 </iframe>
			 </div>
			 <div style="float:left; margin-right: 20px;">
            Search<br/>
            <iframe
  				width="400"
  				height="300"
  				frameborder="0" style="border:0"
  				src="https://www.google.com/maps/embed/v1/search?key=AIzaSyCAYEhJ4J-VBhCU1tMzAoOM8o6o4Fn_aVA&q=Dockland,Hamburg">
			 </iframe>
		     </div>
			 <div>
             View<br/>
			 <iframe
  				width="400"
  				height="300"
  				frameborder="0" style="border:0"
  				src="https://www.google.com/maps/embed/v1/view?key=AIzaSyCAYEhJ4J-VBhCU1tMzAoOM8o6o4Fn_aVA&center=53.543557,9.937381&zoom=17&maptype=satellite">			 </iframe>
			 </div>
        </div>

        <div id="googlemaps5" class="step solidbackground" data-x="-5000" data-y="-5000">
            <h1>Embedding Google Maps - Summary</h1>
            <ul>
            	<li>embedding google maps is easy!</li>
            	<li>it's free of charge</li>
            	<li>Find more info here: <a href="https://developers.google.com/maps/documentation/embed/guide" style="color: blue; text-decoration: underline;">link</a></li>
            	<li>Google Maps has still more APIs for you...</li>
            </ul>            
        </div>

        <div id="googlegeo1" class="step largestep" data-x="-4000" data-y="-6000">
            <h1>Google Geocoding API</h1>
            <img src="https://docs.google.com/drawings/d/1-GMffH8YVE2ML-Udy8j95No5eSJVaddB0RCye0AK2h8/pub?w=960&h=720">
        </div>

        <div id="googlegeo2" class="step largestep solidbackground" data-x="-3000" data-y="-7000">
            <h1>What is Geocoding?</h1>
            <img src="https://docs.google.com/drawings/d/19VLZCQz8EdYEid1I0ISPViibv2cYAuYWmQ2Oh5ldrFg/pub?w=1204&h=278">
        </div>

        <div id="googlegeo3" class="step solidbackground" data-x="-2000" data-y="-8000">
            <h1>Geocoding Service vs. Geocoding API</h1>
            <p>Geocoding Service = dynamically translating input from users<br></br>
            Geocoding API = statically translating already known addresses</p>
        </div>

        <div id="googlegeo4" class="step solidbackground" data-x="-1000" data-y="-9000">
            <h1>Usage Limits for Geocoding API</h1>
            <ul>
            	<li>Geocoding API (free): 2500 req per day / 5 per sec</li>
            	<li>Geocoding API (paid): 100,000 req per day / 10 per sec</li>
            	<li>Only allowed in conjunction with Google Maps!</li>
            </ul>
        </div>

        <div id="googlegeo5" class="step" data-x="0" data-y="-10000">
            <h1>How does it work?</h1>
            <img src="https://docs.google.com/drawings/d/1RD2t2SwvqqE1vp6_KblODC90QgPVP762PAeyy-Sx0O4/pub?w=876&h=371">
        </div>

        <div id="googlegeo6" class="step largestep" data-x="-1000" data-y="-8000">
            <h1>Query Example</h1>
            <img src="https://docs.google.com/drawings/d/1c1JgVYdVjSSeRx5FyHNSvFyPRc7N6yCzuFGnMX-ZHyE/pub?w=1324&h=304">
        </div>

        <div id="googlegeo7" class="step largestep" data-x="-2000" data-y="-7000">
            <img src="https://docs.google.com/drawings/d/1ZFfw36R2kPVVbpHuBw1fn1nk4OlxlTHmqVbWkv2Eveo/pub?w=885&h=705">
        </div>

        <div id="googlegeo8" class="step largestep" data-x="-3000" data-y="-6000">
            <h1>Reverse Query Example</h1>
            <img src="https://docs.google.com/drawings/d/1WknzVIGsNXsz1fzzJL36SdD6ye0NvfRDX4l1ucPoJGE/pub?w=1214&h=276">
        </div>

        <div id="googlegeo9" class="step solidbackground" data-x="-4000" data-y="-5000">
        	<h1>Reverse Query Response</h1>
        	multiple results, consider location_type
            <iframe 
            width="800"
            height="600"
            frameborder="3" 
            style="border:3px solid grey;"
            src="http://maps.googleapis.com/maps/api/geocode/json?latlng=53.54331,9.937299999999999&sensor=false&language=de"></iframe>
        </div>

        <div id="googlechart1" class="step solidbackground" data-x="-5000" data-y="-4000">
        	<h1>Visualize Data with Geochart<a href="https://developers.google.com/chart/interactive/docs/gallery/geochart">¹</a></h1>
        	<ul>
        		<li>Part of the Google Chart Library</li>
        		<li>Supports Region and Marker Charts</li>
        	</ul>        	
        	<div id="regions_div" style="width: 400px; height: 300px; float: left; border: grey 1px solid;"></div>
			<div id="chart_div" style="width: 400px; height: 300px; margin-left: 450px; border: grey 1px solid;"></div>
        </div>

         <div id="googlechart2" class="step solidbackground" data-x="-5000" data-y="-3000">
        	<h1>Code Sample</h1>
        	<iframe
				width="800"
				height="600"
				frameborder="3" 
				style="border:3px solid grey;"
				src="https://raw.githubusercontent.com/mpoehler/LocationTechTalk/gh-pages/index.html"></iframe>
        </div>

		<div id="iptargetting" class="step solidbackground" data-x="-6000" data-y="-3000">
        	<h1>How to locate users in the web?</h1>
        	<ul>
        		<li>HTML5 Geolocation</li>
        		<li>IP-Targetting</li>
        	</ul>
        </div>

        <div id="iptargetting1" class="step solidbackground" data-x="-8000" data-y="-3000">
        	<h1>HTML5 Geolocation</h1>
        	<ul>
        		<li>available in all modern browsers - IE 9+, Firefox, Chrome, Safari and Opera)</li>
        		<li>Geolocation is much more accurate for devices with GPS, like iPhone.</li>
        		<li>easy accessible by javascript</li>        		
        	</ul>
        </div>

        <div id="iptargetting2" class="step" data-x="-9000" data-y="-2000">
        	<h1>HTML5 Geolocation - Code Example</h1>
			<img src="https://docs.google.com/drawings/d/1xPzPHfhsCvndeMKEM5fT4rdVTjRXvteudfVJwROYHPU/pub?w=944&h=444">
        </div>

        <div id="iptargetting3" class="step solidbackground" data-x="-11000" data-y="-2000">
        	<h1>HTML5 Geolocation - Example</h1>

        	<p id="demo">Click the button to get your coordinates:</p>
        	
        	<button onclick="getLocation()">Try It</button>
        	
        	<script>

        	var x = document.getElementById("demo");

			function getLocation() {
				if (navigator.geolocation) {
					navigator.geolocation.getCurrentPosition(showPosition);
				} else {
					x.innerHTML = "Geolocation is not supported by this browser.";
				}
			}

			function showPosition(position) {
				x.innerHTML = "Latitude: " + position.coords.latitude + 
				"<br>Longitude: " + position.coords.longitude; 
			}
        	</script>
        </div>

        <div id="iptargetting4" class="step solidbackground" data-x="-13000" data-y="-2000">
        	<h1>Sometimes you can not or will not ask for permissions...</h1>
        	<ul>
        		<li>Use old-fashioned IP-Targetting instead</li>
        		<li>Not as accurate as geolocation from the browser</li>
        		<li>Accuracy on country level >90% </li>
        		<li>Accuracy on city level ~70% </li>
        		<li>Using App-Engine to host your website includes IP-Targetting from Google</li>
        	</u>
        </div>

        <div id="iptargetting5" class="step largestep solidbackground" data-x="-15000" data-y="-2000">
        	<h1>IP Targetting on Google App-Engine</h1>
        	<ul>
        		<li>Every request to your webapp is enriched with location data</li>
        		<li>X-AppEngine-Country  = ISO 3166-1 alpha-2 country code</li>
        		<li>X-AppEngine-Region  = Name of region from which the request originated</li>
        		<li>X-AppEngine-City  = Name of the city from which the request originated</li>
        		<li>X-AppEngine-CityLatLong  = Latitude and longitude of the city, "37.386051,-122.083851"</li>
        	</ul>
       		<a href="https://cloud.google.com/appengine/docs/java/requests" target="_cool">see here for full documentation</a>
        </div>

        <div id="iptargetting6" class="step solidbackground" data-x="-17000" data-y="-2000">
        	<h1>IP Targetting on Google App-Engine - Demo</h1>
        	See http://mylocationtest.appspot.com
        	<iframe 
        		width="800"
				height="600"
				frameborder="3" 
				style="border:3px solid grey;"
        		src="http://mylocationtest.appspot.com">
        	</iframe>
        </div>

        <div id="summary" class="step solidbackground" data-x="-18000" data-y="-2000">
        	<h1>You have seen...</h1>
        	<ul>
        		<li>Embedding Google Maps is easy!</li>
        		<li>Google Geocoding API is powerful!</li>
        		<li>How to visualize your Geo data with GeoCharts</li>
        		<li>Approaches to determine User locations in the web</li>
        	</ul>
        </div>

        <div id="finish" class="step" data-x="3000" data-y="20000" data-scale="25" data-rotate="180">
            Thank you!
        </div>

        <script src="js/impress.js"></script>
        <script>impress().init();</script>
	</div>

</body>
</html>